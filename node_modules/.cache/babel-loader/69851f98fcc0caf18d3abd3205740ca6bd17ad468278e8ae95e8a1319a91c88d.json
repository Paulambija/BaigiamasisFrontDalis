{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Link,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductDetail(){var _product$comments,_product$comments2;const{id:productId}=useParams();const[name,setName]=useState('');const[email,setEmail]=useState('');const[comment,setComment]=useState('');const[commentSaveInit,setCommentSaveInit]=useState(false);const[editCommentId,setEditCommentId]=useState(null);const[editCommentName,setEditCommentName]=useState('');const[editCommentEmail,setEditCommentEmail]=useState('');const[editCommentText,setEditCommentText]=useState('');const[editCommentSaveInit,setEditCommentSaveInit]=useState(false);const[fetchError,setFetchError]=useState('');const[product,setProduct]=useState({});const[loading,setLoading]=useState(true);let isAdmin=false;if(localStorage.getItem(\"user\")){var _user$roles;const user=JSON.parse(localStorage.getItem(\"user\"));isAdmin=(_user$roles=user.roles)===null||_user$roles===void 0?void 0:_user$roles.some(role=>role.name===\"ADMIN\");}useEffect(()=>{getProductDetails(productId);},[productId]);const getProductDetails=async productid=>{try{setLoading(true);let response=await axios.get(\"http://localhost:8080/products/\".concat(productid),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('accessToken'))}});setProduct(response.data);setName('');setEmail('');setComment('');setEditCommentId(null);setFetchError('');}catch(error){console.log(\"Product detail fetch error\",error);setFetchError(error.response.data.message);}finally{setLoading(false);}};const handleEdit=async comment=>{setEditCommentId(comment.id);setEditCommentName(comment.name);setEditCommentEmail(comment.email);setEditCommentText(comment.text);};const handleDelete=async id=>{setLoading(true);await axios.delete(\"http://localhost:8080/comments/\".concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('accessToken'))}});getProductDetails(productId);};const handleSubmit=async event=>{event.preventDefault();try{if(name&&email&&comment){try{await axios.post(\"http://localhost:8080/comments/\".concat(productId),{name,email,text:comment},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('accessToken'))}});getProductDetails(productId);}catch(error){console.log(\"Comment edit error\",error);setLoading(false);setFetchError(error.response.data.message);}}else{setCommentSaveInit(true);setTimeout(()=>setCommentSaveInit(false),3000);}}catch(error){console.error('failed:',error);}};const handleSubmitEditForm=async event=>{event.preventDefault();try{if(editCommentName&&editCommentEmail&&editCommentText){try{await axios.put(\"http://localhost:8080/comments/\".concat(editCommentId),{name:editCommentName,email:editCommentEmail,text:editCommentText},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('accessToken'))}});getProductDetails(productId);}catch(error){console.log(\"Comment edit error\",error);setLoading(false);setFetchError(error.response.data.message);}}else{setEditCommentSaveInit(true);setTimeout(()=>setEditCommentSaveInit(false),3000);}}catch(error){console.error('failed:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex mt-5 justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}),!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex flex-column gap-3 mt-2\",children:fetchError?/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger\",children:fetchError}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center h1\",children:product.name}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Price: \",product.price]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Quantity: \",product.quantity]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Description: \",product.description]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Comments:\"}),(_product$comments=product.comments)!==null&&_product$comments!==void 0&&_product$comments.length?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"800\",scope:\"col\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"th\",{width:\"300\",scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(_product$comments2=product.comments)===null||_product$comments2===void 0?void 0:_product$comments2.map((comment,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:comment.text}),/*#__PURE__*/_jsx(\"td\",{children:comment.name}),/*#__PURE__*/_jsxs(\"td\",{children:[!isAdmin&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:()=>handleEdit(comment),children:\"Edit\"}),\"\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleDelete(comment.id),children:\"Delete\"})]})]},index))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger\",children:\"No comments on the product\"}),editCommentId&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit the comment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitEditForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"editCommentName\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{value:editCommentName,onChange:e=>setEditCommentName(e.target.value),type:\"text\",className:\"form-control\",id:\"editCommentName\",\"aria-describedby\":\"editCommentNameHelp\",placeholder:\"Name\"}),editCommentSaveInit&&!editCommentName&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"editCommentEmail\",children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{value:editCommentEmail,onChange:e=>setEditCommentEmail(e.target.value),type:\"email\",className:\"form-control\",id:\"editCommentEmail\",\"aria-describedby\":\"editCommentEmailHelp\",placeholder:\"Email\"}),editCommentSaveInit&&!editCommentEmail&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"editCommentText\",children:\"Comment: \"}),/*#__PURE__*/_jsx(\"textarea\",{value:editCommentText,onChange:e=>setEditCommentText(e.target.value),className:\"form-control\",id:\"editCommentText\",\"aria-describedby\":\"editCommentTextHelp\",placeholder:\"Comment\"}),editCommentSaveInit&&!editCommentText&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid comment\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary align-self-center\",children:\"Edit comment\"})]}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new comment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:e=>setName(e.target.value),type:\"text\",className:\"form-control\",id:\"name\",\"aria-describedby\":\"nameHelp\",placeholder:\"Name\"}),commentSaveInit&&!name&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email: \"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:e=>setEmail(e.target.value),type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",placeholder:\"Email\"}),commentSaveInit&&!email&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",children:\"Comment: \"}),/*#__PURE__*/_jsx(\"textarea\",{value:comment,onChange:e=>setComment(e.target.value),className:\"form-control\",id:\"comment\",\"aria-describedby\":\"commentHelp\",placeholder:\"Comment\"}),commentSaveInit&&!comment&&/*#__PURE__*/_jsx(\"p\",{className:\"alert alert-danger py-1 mt-2\",children:\"Please enter a valid comment\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary align-self-center\",children:\"Add comment\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go back to all products\"})})]})})]});}export default ProductDetail;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetail","_product$comments","_product$comments2","id","productId","name","setName","email","setEmail","comment","setComment","commentSaveInit","setCommentSaveInit","editCommentId","setEditCommentId","editCommentName","setEditCommentName","editCommentEmail","setEditCommentEmail","editCommentText","setEditCommentText","editCommentSaveInit","setEditCommentSaveInit","fetchError","setFetchError","product","setProduct","loading","setLoading","isAdmin","localStorage","getItem","_user$roles","user","JSON","parse","roles","some","role","getProductDetails","productid","response","get","concat","headers","Authorization","data","error","console","log","message","handleEdit","text","handleDelete","delete","handleSubmit","event","preventDefault","post","setTimeout","handleSubmitEditForm","put","children","className","price","quantity","description","comments","length","width","scope","map","index","onClick","onSubmit","htmlFor","value","onChange","e","target","type","placeholder","to"],"sources":["E:/Java mokymai/KARTOJIMAS/BAIGIAMASIS/FrontDalisReact-main/src/ProductDetail.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {Link, useParams} from 'react-router-dom';\n\nfunction ProductDetail() {\n\n    const { id: productId } = useParams();\n\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [comment, setComment] = useState('');\n    const [commentSaveInit, setCommentSaveInit] = useState(false);\n\n\n    const [editCommentId, setEditCommentId] = useState(null);\n    const [editCommentName, setEditCommentName] = useState('');\n    const [editCommentEmail, setEditCommentEmail] = useState('');\n    const [editCommentText, setEditCommentText] = useState('');\n    const [editCommentSaveInit, setEditCommentSaveInit] = useState(false);\n\n    const [fetchError, setFetchError] = useState('');\n\n    const [product, setProduct] = useState({});\n    const [loading, setLoading] = useState(true);\n\n    let isAdmin = false;\n    if(localStorage.getItem(\"user\")){\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        isAdmin = user.roles?.some(role => role.name === \"ADMIN\");\n    }\n\n    useEffect(() => {\n        getProductDetails(productId);\n    }, [productId]);\n\n    const getProductDetails = async (productid) => {\n        try {\n            setLoading(true);\n            let response = await axios.get(`http://localhost:8080/products/${productid}`, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('accessToken')}`\n                }\n            });\n            setProduct(response.data);\n            setName('');\n            setEmail('');\n            setComment('');\n            setEditCommentId(null)\n            setFetchError('')\n        } catch (error) {\n            console.log(\"Product detail fetch error\", error)\n            setFetchError(error.response.data.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const handleEdit = async (comment) => {\n        setEditCommentId(comment.id);\n        setEditCommentName(comment.name);\n        setEditCommentEmail(comment.email);\n        setEditCommentText(comment.text);\n    }\n\n    const handleDelete = async (id) => {\n        setLoading(true);\n        await axios.delete(`http://localhost:8080/comments/${id}`, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('accessToken')}`\n            }\n        })\n        getProductDetails(productId);\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            if(name && email && comment){\n                try {\n                    await axios.post(`http://localhost:8080/comments/${productId}`, { name, email, text: comment }, {\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem('accessToken')}`\n                        }\n                    });\n                    getProductDetails(productId)\n                } catch (error){\n                    console.log(\"Comment edit error\", error)\n                    setLoading(false)\n                    setFetchError(error.response.data.message)\n                }\n            }else {\n                setCommentSaveInit(true);\n                setTimeout(() => setCommentSaveInit(false), 3000)\n            }\n        } catch (error) {\n            console.error('failed:', error);\n        }\n    };\n\n    const handleSubmitEditForm = async (event) => {\n        event.preventDefault();\n        try {\n            if(editCommentName && editCommentEmail && editCommentText){\n                try {\n                    await axios.put(`http://localhost:8080/comments/${editCommentId}`,\n                        { name: editCommentName, email: editCommentEmail, text: editCommentText }, {\n                            headers: {\n                                Authorization: `Bearer ${localStorage.getItem('accessToken')}`\n                            }\n                        });\n                    getProductDetails(productId)\n                } catch (error){\n                    console.log(\"Comment edit error\", error)\n                    setLoading(false)\n                    setFetchError(error.response.data.message)\n                }\n            }else {\n                setEditCommentSaveInit(true);\n                setTimeout(() => setEditCommentSaveInit(false), 3000)\n            }\n        } catch (error) {\n            console.error('failed:', error);\n        }\n    };\n\n    return (\n        <>\n            { loading && <div className={\"d-flex mt-5 justify-content-center\"}>\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                </div>\n            </div>\n            }\n            {!loading &&\n                <div className=\"container d-flex flex-column gap-3 mt-2\">\n                    { fetchError ?\n                        <p className=\"alert alert-danger\">{fetchError}</p> :\n                        <>\n                            <h1 className=\"text-center h1\">{ product.name }</h1>\n                            <h3>Price: {product.price}</h3>\n                            <h3>Quantity: {product.quantity}</h3>\n                            <h3>Description: {product.description}</h3>\n                            <h4>Comments:</h4>\n                            { product.comments?.length ?\n                                <table className=\"table\">\n                                    <thead>\n                                    <tr>\n                                        <th width=\"800\" scope=\"col\">Comment</th>\n                                        <th width=\"300\" scope=\"col\">Name</th>\n                                        <th scope=\"col\">Action</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {product.comments?.map((comment, index) => <tr key={index}>\n                                        <td>{comment.text}</td>\n                                        <td>{comment.name}</td>\n                                        <td>\n                                            {!isAdmin && <button className=\"btn btn-info\" onClick={() => handleEdit(comment)}>Edit</button>}\n                                            &nbsp;&nbsp;&nbsp;&nbsp;\n                                            <button className=\"btn btn-danger\" onClick={() => handleDelete(comment.id)}>Delete</button>\n                                        </td>\n                                    </tr>)}\n                                    </tbody>\n                                </table>\n                                :\n                                <p className=\"alert alert-danger\">No comments on the product</p>\n                            }\n\n\n                            { editCommentId &&\n\n                                <div className=\"mb-3\">\n\n                                    <h2>Edit the comment</h2>\n\n                                    <form onSubmit={handleSubmitEditForm}>\n\n                                        <div className=\"form-group mb-3\">\n                                            <label htmlFor=\"editCommentName\">Name: </label>\n                                            <input value={editCommentName}\n                                                   onChange={(e) => setEditCommentName(e.target.value)}\n                                                   type=\"text\" className=\"form-control\" id=\"editCommentName\" aria-describedby=\"editCommentNameHelp\"\n                                                   placeholder=\"Name\"/>\n                                            { (editCommentSaveInit && !editCommentName) &&\n                                                <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid name</p>\n                                            }\n                                        </div>\n\n                                        <div className=\"form-group mb-3\">\n                                            <label htmlFor=\"editCommentEmail\">Email: </label>\n                                            <input value={editCommentEmail}\n                                                   onChange={(e) => setEditCommentEmail(e.target.value)}\n                                                   type=\"email\" className=\"form-control\" id=\"editCommentEmail\" aria-describedby=\"editCommentEmailHelp\"\n                                                   placeholder=\"Email\"/>\n                                            { (editCommentSaveInit && !editCommentEmail) &&\n                                                <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid email</p>\n                                            }\n                                        </div>\n\n                                        <div className=\"form-group mb-3\">\n                                            <label htmlFor=\"editCommentText\">Comment: </label>\n                                            <textarea value={editCommentText}\n                                                      onChange={(e) => setEditCommentText(e.target.value)}\n                                                      className=\"form-control\" id=\"editCommentText\" aria-describedby=\"editCommentTextHelp\"\n                                                      placeholder=\"Comment\"/>\n                                            { (editCommentSaveInit && !editCommentText) &&\n                                                <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid comment</p>\n                                            }\n                                        </div>\n\n                                        <button\n                                            type=\"submit\"\n                                            className=\"btn btn-primary align-self-center\">\n                                            Edit comment\n                                        </button>\n                                    </form>\n                                    <hr/>\n\n                                </div>\n\n                            }\n\n                            <div>\n\n                                <h2>Add a new comment</h2>\n\n                                <form onSubmit={handleSubmit}>\n\n                                    <div className=\"form-group mb-3\">\n                                        <label htmlFor=\"username\">Name: </label>\n                                        <input value={name}\n                                               onChange={(e) => setName(e.target.value)}\n                                               type=\"text\" className=\"form-control\" id=\"name\" aria-describedby=\"nameHelp\"\n                                               placeholder=\"Name\"/>\n                                        { (commentSaveInit && !name) &&\n                                            <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid name</p>\n                                        }\n                                    </div>\n\n                                    <div className=\"form-group mb-3\">\n                                        <label htmlFor=\"email\">Email: </label>\n                                        <input value={email}\n                                               onChange={(e) => setEmail(e.target.value)}\n                                               type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\"\n                                               placeholder=\"Email\"/>\n                                        { (commentSaveInit && !email) &&\n                                            <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid email</p>\n                                        }\n                                    </div>\n\n                                    <div className=\"form-group mb-3\">\n                                        <label htmlFor=\"comment\">Comment: </label>\n                                        <textarea value={comment}\n                                                  onChange={(e) => setComment(e.target.value)}\n                                                  className=\"form-control\" id=\"comment\" aria-describedby=\"commentHelp\"\n                                                  placeholder=\"Comment\"/>\n                                        { (commentSaveInit && !comment) &&\n                                            <p className=\"alert alert-danger py-1 mt-2\">Please enter a valid comment</p>\n                                        }\n                                    </div>\n\n                                    <button\n                                        type=\"submit\"\n                                        className=\"btn btn-primary align-self-center\">\n                                        Add comment\n                                    </button>\n                                </form>\n\n                            </div>\n\n\n                            <div className=\"mt-3\">\n                                <Link to={\"/\"} >Go back to all products</Link>\n                            </div>\n                        </>\n                    }\n                </div>\n            }\n        </>\n    );\n}\n\nexport default ProductDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}